<?xml version="1.0" encoding="UTF-8"?>
<!-- This file is managed by ansible and is based on the tutorial at https://www.fukr.org.uk/?p=24 -->
<AttributeFilterPolicyGroup id="ShibbolethFilterPolicy" xmlns="urn:mace:shibboleth:2.0:afp" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:mace:shibboleth:2.0:afp http://shibboleth.net/schema/idp/shibboleth-afp.xsd">

  <AttributeFilterPolicy id="anyone">
    <PolicyRequirementRule xsi:type="ANY"/>
    <AttributeRule attributeID="uid">
      <PermitValueRule xsi:type="ANY"/>
    </AttributeRule>
    <AttributeRule attributeID="mail">
      <PermitValueRule xsi:type="ANY"/>
    </AttributeRule>
    <AttributeRule attributeID="displayName">
      <PermitValueRule xsi:type="ANY"/>
    </AttributeRule>
    <AttributeRule attributeID="surname">
      <PermitValueRule xsi:type="ANY"/>
    </AttributeRule>
    <AttributeRule attributeID="givenName">
      <PermitValueRule xsi:type="ANY"/>
    </AttributeRule>
  </AttributeFilterPolicy>

  <AttributeFilterPolicy id="our-sp">
    <PolicyRequirementRule xsi:type="Requester" value="https://{{ hostname }}.{{ domain }}"/>
    <AttributeRule attributeID="mail">
      <PermitValueRule xsi:type="ANY"/>
    </AttributeRule>
    <AttributeRule attributeID="displayName">
      <PermitValueRule xsi:type="ANY"/>
    </AttributeRule>
    <AttributeRule attributeID="surname">
      <PermitValueRule xsi:type="ANY"/>
    </AttributeRule>
    <AttributeRule attributeID="givenName">
      <PermitValueRule xsi:type="ANY"/>
    </AttributeRule>
  </AttributeFilterPolicy>

</AttributeFilterPolicyGroup>
